Here's an updated version of some code
